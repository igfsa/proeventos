<header>
  <link rel="stylesheet" href="categorias.component.scss">
</header>
<body>
  <div class="container">

    <div class="form-inline">
      <div class="input-group text-center mb-2">
        <input type="text" class="form-control mr-2" placeholder="Buscar" [(ngModel)]="filtroLista">
        <button id="btn-buscar" class="btn btn-outline-success" (click)='clickFiltrarCategorias()'>Buscar</button>
        <!--para fazer o filtro dos dados, estamos usando o recurso de two-way binding
          o two-way binding é um binding com interpolação
          https://angular.io/guide/two-way-binding
        -->
        <div class="btn-group" dropdown>
          <button id="button-animated" dropdownToggle type="button" class="btn dropdown-toggle" aria-controls="dropdown-animated">
            Filtro avançado<span class="caret"></span>
          </button>
          <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-animated">
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraId">
                <label class="form-check-label" for="flexCheckDefault">
                  Id
                </label>
              </div>
            </li>
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraNome">
                <label class="form-check-label" for="flexCheckDefault">
                  Nome
                </label>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <h3>Filtro: {{filtroLista}}</h3>
    <hr>

    <h2>Eventos</h2>
    <table id="main-table" class="table table-striped text-center">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Nome</th>
          <th>Eventos</th>
          <th>Opções</th>
          <!--<th>Categoria</th>-->
        </tr>
      </thead>
      <tbody *ngIf="categorias && categorias.length">
        <tr *ngFor="let categoria of categoriasFiltradas">
          <td>{{categoria.categoriaId}}</td>
          <td>{{categoria.nome}}</td>
          <td>
            <span *ngFor="let evento of categoria.eventos">
              {{evento.tema}}
              <br>
            </span>
          </td>
          <td>
            <button type="button" class="btn-editar btn btn-primary btn-sm mr-2">Editar</button>
            <button type="button" class="btn-excluir btn btn-danger btn-sm">Excluir</button>
          </td>
        </tr>
      </tbody>
      <tfoot *ngIf="!categoriasFiltradas.length">
        <tr>
          <td colspan="8" class="text-center">
            <h4>Nenhuma categoria encontrada!</h4>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</body>
