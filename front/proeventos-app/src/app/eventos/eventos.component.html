<header>
  <link rel="stylesheet" href="eventos.component.scss">
</header>
<body>
  <div class="container">

    <div class="form-inline">
      <div class="input-group text-center mb-2">
        <input type="text" class="form-control mr-2" placeholder="Buscar" [(ngModel)]="filtroLista">
        <button id="btn-buscar" class="btn btn-outline-success" (click)='clickFiltrarEventos()'>Buscar</button>
        <!--para fazer o filtro dos dados, estamos usando o recurso de two-way binding
          o two-way binding é um binding com interpolação
          https://angular.io/guide/two-way-binding
        -->
        <div class="btn-group" dropdown>
          <button id="button-animated" dropdownToggle type="button" class="btn dropdown-toggle" aria-controls="dropdown-animated">
            Filtro avançado<span class="caret"></span>
          </button>
          <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-animated">
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraId">
                <label class="form-check-label" for="flexCheckDefault">
                  Id
                </label>
              </div>
            </li>
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraTema">
                <label class="form-check-label" for="flexCheckDefault">
                  Tema
                </label>
              </div>
            </li>
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraLocal">
                <label class="form-check-label" for="flexCheckDefault">
                  Local
                </label>
              </div>
            </li>
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraData">
                <label class="form-check-label" for="flexCheckDefault">
                  Data
                </label>
              </div>
            </li>
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraQtd">
                <label class="form-check-label" for="flexCheckDefault">
                  Qtd Pessoas
                </label>
              </div>
            </li>
            <li role="menuitem">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked [(ngModel)]="filtraLote">
                <label class="form-check-label" for="flexCheckDefault">
                  Lote
                </label>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <h3>Filtro: {{filtroLista}}</h3>
    <hr>

    <h2>Eventos</h2>
    <table id="main-table" class="table table-striped text-center">
      <thead class="table-dark">
        <tr>
          <th [style.width.px]="200">Imagem <br> <button type="button" class="btn btn-secondary btn-outline-logth btn-sm" (click)='alterarImagem()'>{{exibirImagem ? 'exibir' : 'ocultar'}}</button></th>
          <th>#</th>
          <th>Tema</th>
          <th>Local</th>
          <th>Data</th>
          <th>Qtd Pessoas</th>
          <th>Lote</th>
          <th>Categoria</th>
          <th>Opções</th>
          <!--<th>Categoria</th>-->
        </tr>
      </thead>
      <tbody *ngIf="eventos && eventos.length">
        <tr *ngFor="let evento of eventosFiltrados">
          <td [style.width.px]="200">
            <img class="center" [collapse]="exibirImagem" [isAnimated]="true" src="../../assets/images/{{evento.imagemURL}}" alt="" [style.width.px]="larguraImagem" [style.margin.px]=""margemImagem>
            <!--para fazer a importação da imagem, estamos usando o recurso de binding as propriedades entre colchetes são property bindings
              ao usarmos property bindings, não é necessário usar a interpolação
              https://angular.io/guide/binding-syntax
            -->
          </td>
          <td>{{evento.eventoId}}</td>
          <td>{{evento.tema}}</td>
          <td>{{evento.local}}</td>
          <td>{{evento.dataEvento}}</td>
          <td>{{evento.qtdPessoas}}</td>
          <td>{{evento.lote}}</td>
          <td>{{evento.categoria.nome}}</td>
          <td>
            <button type="button" class="btn-editar btn btn-primary btn-sm mr-2">Editar</button>
            <button type="button" class="btn-excluir btn btn-danger btn-sm">Excluir</button>
          </td>
        </tr>
      </tbody>
      <tfoot *ngIf="!eventosFiltrados.length">
        <tr>
          <td colspan="8" class="text-center">
            <h4>Nenhum evento encontrado!</h4>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</body>
